{% load static %}
<header class="mb-6">
  <div class="flex items-center justify-between gap-4">
    <div class="flex items-center gap-3">
      <!-- App logo: prefer a real image if present, fallback to inline SVG -->
      <div class="w-30 h-20 flex items-center justify-center bg-white rounded-full shadow-sm overflow-hidden">
        {% comment %}Try to load a served logo; this view serves `core/images/logo.jpg` in dev.{% endcomment %}
        <img src="{% url 'core:logo' %}" alt="لوگو" class="w-full h-full object-cover" onerror="this.style.display='none'">
      </div>

      <div>
        <a href="/" class="text-lg font-bold text-gray-900">دارالعلوم عالی اسلامی الحاج سید منصور نادری</a>
        <div class="text-xs text-gray-500">سیستم کمپیوتری مدیریت دارالعلوم</div>
      </div>
    </div>

    <nav class="hidden sm:flex items-center gap-4">
      <a href="{% url 'core:dashboard' %}" class="text-gray-700 hover:text-blue-600 font-medium">داشبورد</a>
      <a href="{% url 'core:student_list' %}" class="text-gray-700 hover:text-blue-600">دانش‌آموزان</a>
      <a href="{% url 'core:teacher_list' %}" class="text-gray-700 hover:text-blue-600">اساتید</a>
      <a href="{% url 'core:subject_list' %}" class="text-gray-700 hover:text-blue-600">مضامین</a>
      <a href="{% url 'core:classes_list' %}" class="text-gray-700 hover:text-blue-600">صنوف</a>
    </nav>

    <!-- Mobile menu trigger -->
    <div class="sm:hidden">
      <button id="mobile-menu-toggle" class="p-2 rounded-md bg-white shadow-sm">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M3 5h14a1 1 0 010 2H3a1 1 0 010-2zm0 4h14a1 1 0 010 2H3a1 1 0 010-2zm0 4h14a1 1 0 010 2H3a1 1 0 010-2z" clip-rule="evenodd" />
        </svg>
      </button>
    </div>
  </div>

  <!-- Mobile nav -->
  <div id="mobile-menu" class="mt-3 hidden sm:hidden">
    <nav class="flex flex-col gap-2">
      <a href="{% url 'core:dashboard' %}" class="block px-3 py-2 rounded bg-white">داشبورد</a>
      <a href="{% url 'core:student_list' %}" class="block px-3 py-2 rounded bg-white">دانش‌آموزان</a>
      <a href="{% url 'core:teacher_list' %}" class="block px-3 py-2 rounded bg-white">اساتید</a>
      <a href="{% url 'core:subject_list' %}" class="block px-3 py-2 rounded bg-white">مضامین</a>
      <a href="{% url 'core:classes_list' %}" class="block px-3 py-2 rounded bg-white">صنوف</a>
    </nav>
  </div>

  <script>
    (function(){
      const btn = document.getElementById('mobile-menu-toggle');
      const menu = document.getElementById('mobile-menu');
      if (!btn || !menu) return;
      btn.addEventListener('click', function(){
        menu.classList.toggle('hidden');
      });
    })();
  </script>
</header>
